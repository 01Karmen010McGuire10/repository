<?xml version="1.0" encoding='UTF-8'?> <xsl:stylesheet version="1.0"  xmlns:xsl="http://www.w3.org/1999/XSL/Transform"   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"  xmlns:dc="http://purl.org/dc/elements/1.1/"  xmlns:dcq="http://purl.org/dc/terms/"  xmlns:res="http://dublincore.org/registry/resources/"  xmlns:em="http://dublincore.org/registry/"  xmlns:java="java" ><!--<xsl:output method="xml" indent="yes" encoding="UTF-8"    doctype-system="http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"    doctype-public="-//W3C//DTD XHTML 1.0 Transitional//EN" />--><xsl:output method="html"/><xsl:include href="banner.xsl"/><xsl:include href="footer.xsl"/><xsl:include href="languages-sm2.xsl"/><xsl:include href="countries-sm2.xsl"/><xsl:include href="date-fmt1.xsl"/><xsl:include href="_url_encode.xsl"/><xsl:param name="reqType" select="''"/><xsl:param name="modelSize" select="'0'"/><xsl:param name="uiStyle" select="'std'"/><xsl:param name="uiLang" select="'en-US'"/><xsl:param name="resultsLang" select="'en-US'"/><xsl:param name="item" select="''"/><xsl:param name="itemType" select="''"/><xsl:param name="property" select="''"/><xsl:param name="newTerm" select="''"/><xsl:param name="label" select="''"/><xsl:param name="definition" select="''"/><xsl:param name="description" select="''"/><xsl:param name="rdfType" select="''"/><xsl:param name="termType" select="''"/><xsl:param name="termTypeOther" select="''"/><xsl:param name="refines" select="''"/><xsl:param name="version" select="''"/><xsl:param name="issuedYear" select="''"/><xsl:param name="issuedMonth" select="''"/><xsl:param name="issuedDay" select="''"/><xsl:param name="language" select="''"/><xsl:param name="country" select="''"/><xsl:param name="p_description" select="''"/><xsl:param name="p_title" select="''"/><xsl:param name="p_creator" select="''"/><xsl:param name="p_contributor1" select="''"/><xsl:param name="p_contributor2" select="''"/><xsl:param name="p_publisher_lit" select="''"/><xsl:param name="p_publisher_res" select="''"/><xsl:param name="p_source" select="''"/><xsl:param name="p_rights" select="''"/><xsl:param name="location" select="'administration'"/><xsl:variable name="rdf" select="'http://www.w3.org/1999/02/22-rdf-syntax-ns#'" /><xsl:variable name="rdfs" select="'http://www.w3.org/2000/01/rdf-schema#'"/><xsl:variable name="dc" select="'http://purl.org/dc/elements/1.1/'" /><xsl:variable name="dcq" select="'http://purl.org/dc/terms/'" /><xsl:variable name="dctype" select="'http://purl.org/dc/dcmitype/'" /><xsl:variable name="locale" select="java:util.Locale.new(substring($uiLang,1,2), substring($uiLang,4,2))"/><xsl:variable name="resources" select="java:util.ResourceBundle.getBundle('ui', $locale)"/><xsl:template match="rdf:RDF">	<html>	<head>		<title>The Open Metadata Registry</title>		<link href="/dcregistry/css/default.css" rel="stylesheet" type="text/css" />	</head>	<body>	<xsl:call-template name="banner">				<xsl:with-param name="action" select="$location" />	</xsl:call-template>	<p/>	<h1>Add Resource</h1>	<table cellspacing="0" class="border">	<xsl:apply-templates select ="rdf:Description" />	<xsl:if test="not(rdf:Description)">		<xsl:call-template name="emptyCollection" />	</xsl:if>			</table>		<xsl:variable name="encoded_item">		<xsl:value-of select="java:net.URLEncoder.encode($item,'UTF8')" />	</xsl:variable>		<p/>	[<a><xsl:attribute name="HREF"><xsl:value-of select="concat('/dcregistry/adminCollectionManagerServlet?reqType=detail', '&amp;', 'item=', $encoded_item, '&amp;', 'itemType=', $itemType)"/></xsl:attribute>Back to Previous Page</a>]&#160;&#160;	[<a href="/dcregistry/adminServlet">Back to Top Page</a>]	<p /><xsl:call-template name="footer" />	</body>	</html></xsl:template><xsl:template match="rdf:Description">	<xsl:variable name="res">		<xsl:value-of select="./@rdf:about"/>	</xsl:variable>	<form action="/dcregistry/adminResourceManagerServlet" method="post">		<tr>	<xsl:choose>		<xsl:when test="$item='other'">			<th width="15%" valign="top">			<span class="label">Term</span></th><td width="85%">			<input size="64" maxlength="128" type="text" name="newTerm" value="{$newTerm}" />			</td>		</xsl:when>		<xsl:when test="$item='all'">			<th width="15%" valign="top">			<span class="label">Term</span></th><td width="85%">			<input size="64" maxlength="128" type="text" name="newTerm" value="{$newTerm}" />			</td>		</xsl:when>		<xsl:otherwise>			<th colspan="2" width="100%">			<a class="label"><xsl:attribute name="href"><xsl:value-of select="$res"/></xsl:attribute>			<xsl:value-of select="$res"/></a>			<input size="32" maxlength="64" type="text" name="newTerm" value="{$newTerm}" />			</th>		</xsl:otherwise>	</xsl:choose>	</tr>		<xsl:call-template name="printForm" />		<xsl:choose>		<xsl:when test="$item='other'">			<input type="hidden" name="item" value="{$item}"/>		</xsl:when>		<xsl:when test="$item='all'">			<input type="hidden" name="item" value="{$item}"/>		</xsl:when>		<xsl:otherwise>			<input type="hidden" name="item" value="{$res}" />		</xsl:otherwise>	</xsl:choose>	<input type="hidden" name="itemType" value="{$itemType}"/>	</form>	</xsl:template><xsl:template name="emptyCollection">	<xsl:variable name="res">		<xsl:value-of select="$item"/>	</xsl:variable>	<form action="/dcregistry/adminResourceManagerServlet" method="post">		<tr><th colspan="2">	<a class="label"><xsl:attribute name="href"><xsl:value-of select="$res"/></xsl:attribute>	<xsl:value-of select="$res"/></a>	<input size="32" maxlength="64" type="text" name="newTerm" value="{$newTerm}" />	</th></tr>		<xsl:call-template name="printForm" />		<input type="hidden" name="item" value="{$item}"/>	<input type="hidden" name="itemType" value="{$itemType}"/>		</form></xsl:template><xsl:template name="printForm">		<tr>	<th width="15%" valign="top">	<a class="label" href="http://purl.org/dc/terms/RFC3066">Language</a>	</th><td width="85%">	<xsl:call-template name="languages">		<xsl:with-param name="language" select="$language" />	</xsl:call-template>	-	<xsl:call-template name="countries">		<xsl:with-param name="country" select="$country" />	</xsl:call-template>	</td></tr>		<tr>	<th width="15%" valign="top">	<a class="label" href="http://www.w3.org/2000/01/rdf-schema#label">Label</a>	</th>	<td width="85%"><input size="48" maxlength="128" type="text" name="label" value="{$label}" /></td>	</tr>	<tr>	<th width="15%" valign="top">	<a class="label" href="http://www.w3.org/2000/01/rdf-schema#comment">Definition</a>	</th>	<td width="85%"><input size="64" maxlength="256" type="text" name="definition" value="{$definition}" /></td>	</tr>		<tr>	<th width="15%" valign="top">	<a class="label" href="http://purl.org/dc/elements/1.1/description">Description</a>	</th><td width="85%">	<textarea name="description" wrap="physical" cols="64" rows="10"><xsl:value-of select='$description'/></textarea>	</td></tr>		<tr>	<th width="15%" valign="top">	<a class="label" href="http://www.w3.org/1999/02/22-rdf-syntax-ns#type">RDF Type</a>	</th>	<td width="85%">	<select name="rdfType">			<xsl:choose>			<xsl:when test="$rdfType='Property'">				<option selected="selected" value="http://www.w3.org/1999/02/22-rdf-syntax-ns#Property">Property</option>			</xsl:when>			<xsl:otherwise>				<option value="http://www.w3.org/1999/02/22-rdf-syntax-ns#Property">Property</option>			</xsl:otherwise>		</xsl:choose>					<xsl:choose>			<xsl:when test="$rdfType='Class'"> 				<option selected="selected" value="http://www.w3.org/2000/01/rdf-schema#Class">Class</option>			</xsl:when>			<xsl:otherwise>				<option value="http://www.w3.org/2000/01/rdf-schema#Class">Class</option>			</xsl:otherwise>		</xsl:choose>	</select>	</td></tr>		<tr>	<th width="15%" valign="top">	<a class="label" href="http://purl.org/dc/elements/1.1/type">Term Type</a>	</th>	<td width="85%">	<select name="termType">		<xsl:choose>			<xsl:when test="$termType='element'"> 				<option selected="selected" value="http://dublincore.org/usage/documents/principles/#element">element</option>			</xsl:when>			<xsl:otherwise>				<option value="http://dublincore.org/usage/documents/principles/#element">element</option>			</xsl:otherwise>		</xsl:choose>					<xsl:choose>			<xsl:when test="$termType='element-refinement'"> 				<option selected="selected" value="http://dublincore.org/usage/documents/principles/#element-refinement">element-refinement</option>			</xsl:when>			<xsl:otherwise>				<option value="http://dublincore.org/usage/documents/principles/#element-refinement">element-refinement</option>			</xsl:otherwise>		</xsl:choose>					<xsl:choose>			<xsl:when test="$termType='vocabulary-term'"> 				<option selected="selected" value="http://dublincore.org/usage/documents/principles/#vocabulary-term">vocabulary-term</option>			</xsl:when>			<xsl:otherwise>				<option value="http://dublincore.org/usage/documents/principles/#vocabulary-term">vocabulary-term</option>			</xsl:otherwise>		</xsl:choose>					<xsl:choose>			<xsl:when test="$termType='encoding-scheme'"> 				<option selected="selected" value="http://dublincore.org/usage/documents/principles/#encoding-scheme">encoding-scheme</option>			</xsl:when>			<xsl:otherwise>				<option value="http://dublincore.org/usage/documents/principles/#encoding-scheme">encoding-scheme</option>			</xsl:otherwise>		</xsl:choose>					<xsl:choose>			<xsl:when test="$termType='other'"> 				<option selected="selected" value="other">other</option>			</xsl:when>			<xsl:otherwise>				<option value="other">other</option>			</xsl:otherwise>		</xsl:choose>	</select>	&#160;if other: <input size="48" maxlength="256" type="text" name="termTypeOther" value="{$termTypeOther}" />	</td></tr>		<tr>	<th width="15%" valign="top">	<a class="label" href="http://dublincore.org/documents/dcmi-terms/">Refines</a>	</th>	<td width="85%">http://<input size="64" maxlength="256" type="text" name="refines" value="{$refines}" /></td>	</tr>		<tr>	<th width="15%" valign="top">	<a class="label" href="http://purl.org/dc/terms/hasVersion">Version</a>	</th>	<td width="85%"><input size="64" maxlength="256" type="text" name="version" value="{$version}" /></td>	</tr>		<tr>	<th width="15%" valign="top">	<a class="label" href="http://purl.org/dc/terms/issued">Date Issued</a>	</th><td width="85%">	<xsl:call-template name="date-fmt1">		<xsl:with-param name="issuedYear" select="$issuedYear" />		<xsl:with-param name="issuedMonth" select="$issuedMonth" />		<xsl:with-param name="issuedDay" select="$issuedDay" />	</xsl:call-template>	</td></tr>		<tr><th width="100%" colspan="2">Provenance Information For New Term</th></tr>		<tr>	<th width="15%" valign="top">	<a class="label" href="http://purl.org/dc/elements/1.1/description">Description</a>	</th><td width="85%">	<textarea name="p_description" wrap="physical" cols="64" rows="10"><xsl:value-of select='$p_description'/></textarea>	</td></tr>		<tr>	<th width="15%" valign="top">	<a class="label" href="http://purl.org/dc/elements/1.1/title">Title</a>	</th>	<td width="85%"><input size="64" maxlength="128" type="text" name="p_title" value="{$p_title}" /></td>	</tr>		<tr>	<th width="15%" valign="top">	<a class="label" href="http://purl.org/dc/elements/1.1/creator">Creator</a>	</th>	<td width="85%"><input size="64" maxlength="128" type="text" name="p_creator" value="{$p_creator}" /></td>	</tr>		<tr>	<th width="15%" valign="top">	<a class="label" href="http://purl.org/dc/elements/1.1/contributor">Contributor</a>	</th>	<td width="85%"><input size="64" maxlength="128" type="text" name="p_contributor1" value="{$p_contributor1}" /></td>	</tr>		<tr>	<th width="15%" valign="top">	<a class="label" href="http://purl.org/dc/elements/1.1/contributor">Contributor</a>	</th>	<td width="85%"><input size="64" maxlength="128" type="text" name="p_contributor2" value="{$p_contributor2}" /></td>	</tr>		<tr>	<th width="15%" valign="top">	<a class="label" href="http://purl.org/dc/elements/1.1/publisher">Publisher</a>	</th>	<td width="85%"><input size="64" maxlength="128" type="text" name="p_publisher_lit" value="{$p_publisher_lit}" /></td>	</tr>		<tr>	<th width="15%" valign="top">	<a class="label" href="http://purl.org/dc/elements/1.1/creator">Publisher</a>	</th>	<td width="85%">http://<input size="64" maxlength="128" type="text" name="p_publisher_res" value="{$p_publisher_res}" /></td>	</tr>		<tr>	<th width="15%" valign="top">	<a class="label" href="http://purl.org/dc/elements/1.1/creator">Source</a>	</th>	<td width="85%">http://<input size="64" maxlength="128" type="text" name="p_source" value="{$p_source}" /></td>	</tr>		<tr>	<th width="15%" valign="top">	<a class="label" href="http://purl.org/dc/elements/1.1/rights">Rights</a>	</th><td width="85%">	<textarea name="p_rights" wrap="physical" cols="64" rows="10"><xsl:value-of select='$p_rights'/></textarea>	</td></tr>		<tr>	<th width="15%" valign="top">	&#160;	</th><td width="85%">	<input name="reqType" value="Add Term" type="submit" />&#160;&#160;<input name="reqType" value="Cancel Add" type="submit" />	</td></tr>		<p/>	<xsl:value-of select="./em:errorMsg"/></xsl:template></xsl:stylesheet>